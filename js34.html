<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalStorege 로컬스토리지</title>
</head>
<body>
    
    <input type="text" id="입력값">
    <button id="save">저장하기</button>
    <button id="add">추가하기</button>


    <script>
        // 무언가 값을 저장하고 싶다면 '변수'
        // 변수는 새로고침을 하면 없어짐
        var 변수 = '저장하고 싶은 글자';

        // 페이지를 새로고침 하거나 새로 열었을 때도 유지하고 싶은 데이터가있다?
        // 웹에서 제공하는 localStorage를 활용할 수 있음
        //변수 = localStorage.getItem('이름');
        //console.log(변수);

        // localStorage.setItem('키','170.0');
        // localStorage.removeItem('키');

        document.getElementById('save').addEventListener('click',()=>{
            // input 에 입력된 값을 변수로 받아서
            // setItem 의 값에 대입
         var res = "";
         var res = document.getElementById('입력값').value;
         localStorage.setItem('이름', res)

         alert('이름이 ' + res + '으로 변경되었습니다')
         document.getElementById('입력값').value = ''
        })

        // JSON 문자열 : 웹에서 배열이나 객체를 사용하기 위한 문자열 형식
        // 배열, 객체 => JSON 으로 변경해서 웹에  적용

        변수 = [1,2,3]
        JSON.stringify(변수);       // 배열(객체) > JSON 문자열(웹에서 사용하기 위해)
        
        var json문자열 = '{}'
        JSON.parse(json문자열)      // JSON문자열 > 배열(객체) (자바스크립트 변수로 사용하기 위해)

        document.getElementById('add').addEventListener('click', ()=>{
            let 임시변수 = localStorage.getItem('저장값');   //[1,2,3]
            // 배열에 값을 하나 더 추가한 다음 json 문자열로 바꿔서 setItem
            임시변수 = JSON.parse(임시변수)         // JSON 글자형식 > 배열

            // 배열에서 마지막 숫자를 가져와서
            // 여기서 배열 뒷부분에 값을 추가
            const 마지막숫자 = 임시변수[임시변수.length - 1] + 1;
            임시변수.push(마지막숫자);

            임시변수 = JSON.stringify(임시변수)     // 배열 > JSON글자형식
            localStorage.setItem('저장값', 임시변수)        // 덮어쓰기
        })

        localStorage.removeItem('저장값');
    </script>
</body>
</html>